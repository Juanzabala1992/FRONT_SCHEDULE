<div class="container-fluid">
    <div class="title d-flex justify-content-center">
        <h1>
            Historial
        </h1>        
    </div>
    <div class="table">
        <table mat-table [dataSource]="dataSource" *ngIf="this.registers.length > 0" id="registersCustomer" matSort>
            <!-- Tipo Column -->
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                <td mat-cell *matCellDef="let row"> {{row.id}} </td>
            </ng-container>
    
            <!-- Fecha Column -->
            <ng-container matColumnDef="cliente">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Cliente </th>
                <td mat-cell *matCellDef="let row"> {{row.cliente}} </td>
            </ng-container>
    
            <!-- Descripcion Column -->
            <ng-container matColumnDef="iduser">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> ID Usuario </th>
                <td mat-cell *matCellDef="let row" class="truncate-cell"> {{row.idUser}} </td>
            </ng-container>
    
            <!-- Duracion Column -->
            <ng-container matColumnDef="fechainicio">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> fecha inicio </th>
                <td mat-cell *matCellDef="let row" [ngSwitch]="row.type" class="justify-content-center">
                     <p *ngSwitchDefault>{{row.fecha_inicio}}</p>
                </td>          
            </ng-container>
    
            <!-- Estado Column -->
            <ng-container matColumnDef="fechafin">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> fecha fin </th>
                <td mat-cell *matCellDef="let row" [ngSwitch]="row.type">
                    <p *ngSwitchDefault>{{row.fecha_fin }}</p>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="numerodocumento">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> numero de documento</th>
                <td mat-cell *matCellDef="let row" [ngSwitch]="row.type">
                    
                    <p *ngSwitchDefault>{{row.numero_de_documento}}</p>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="observaciones">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> observaciones</th>
                <td mat-cell *matCellDef="let row" [ngSwitch]="row.type">
                    
                    <p *ngSwitchDefault>{{row.observaciones}}</p>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="responsablecliente">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> responsable cliente</th>
                <td mat-cell *matCellDef="let row" [ngSwitch]="row.type">
                   
                    <p *ngSwitchDefault>{{row.responsable_cliente}}</p>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="totalhoras">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> total horas</th>
                <td mat-cell *matCellDef="let row" [ngSwitch]="row.type">
                    
                    <p *ngSwitchDefault>{{row.total_horas}}</p>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No se encontraron llamadas</td>
            </tr>
        </table>
    </div>
    <button mat-mini-fab class="circle_buttons" (click)="exportExcel()" color="primary" aria-label="Example icon button with a plus one icon">
        <img src="../../../assets/icons/file-bar-graph-white.svg" style="width: 20px;">
      </button>
</div>

